// Generated by CoffeeScript 1.7.1
define(['external/react', 'jquery', 'modules/clean/react/sprite', 'modules/core/i18n'], function(React, $j, Sprite, i18n) {
  var PreviewLinkfile, cx, d, _;
  cx = React.addons.classSet;
  d = React.DOM;
  _ = i18n._;
  PreviewLinkfile = React.createClass({
    displayName: 'PreviewLinkfile',
    propTypes: {
      "uid": React.PropTypes.number.isRequired,
      "path": React.PropTypes.string.isRequired,
      "sjid": React.PropTypes.number
    },
    SPINNER_FADE_DELAY_MSEC: 150,
    getInitialState: function() {
      return {
        filename: null,
        description: null,
        link: null
      };
    },
    _isFileDataFetched: function() {
      return (this.state.filename == null) || (this.state.description == null);
    },
    fakeHandleLinkData: function() {
      console.log("TODO(mike): implement decoding linkfile info from server");
      return this.setState({
        filename: "dropbox.webloc",
        description: "www.dropbox.com",
        link: "https://www.dropbox.com/"
      });
    },
    componentDidMount: function() {
      console.log("TODO(mike): Implement requesting linkfile info received from server");
      return setTimeout($j.proxy(this.fakeHandleLinkData, this), 2000);
    },
    handleClickOpenLinkButton: function(event) {
      return console.log('TODO(mike): implement go to link functionality');
    },
    render: function() {
      var contentClassSet, descriptionText, filenameText, openLinkButtonClassSet;
      contentClassSet = {
        'preview-linkfile-content': true,
        'loading-content': this._isFileDataFetched()
      };
      openLinkButtonClassSet = {
        'preview-linkfile-button-openlink': true,
        'button-primary': true,
        'has-link': this.state.link != null
      };
      filenameText = this.state.filename != null ? this.state.filename : '-';
      descriptionText = this.state.description != null ? this.state.description : '-';
      return d.div({
        className: 'preview-linkfile-container'
      }, d.div({
        className: 'preview-linkfile-wrapper'
      }, d.div({
        className: 'preview-linkfile-box'
      }, d.div({
        className: cx(contentClassSet)
      }, d.div({
        className: 'preview-linkfile-icon'
      }, d.img({
        src: '/static/images/icons128/page_white_webcode-vflFDj9MO.png'
      })), d.div({
        className: 'preview-linkfile-title'
      }, filenameText), d.div({
        className: 'preview-linkfile-info'
      }, [
        d.div({}, descriptionText), d.button({
          className: cx(openLinkButtonClassSet),
          onMouseUp: this.handleClickOpenLinkButton
        }, _('Open in new tab'))
      ])))));
    }
  });
  return {
    PreviewLinkfile: PreviewLinkfile
  };
});

//# sourceMappingURL=preview_linkfile.map
