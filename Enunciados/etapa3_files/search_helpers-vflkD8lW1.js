// Generated by CoffeeScript 1.7.1
define(['jquery'], function($j) {
  return {
    highlightMatch: function(text, highlightRanges) {
      var $safeRange, $styledText, charIndex, endOfRangeIndex, highlightRangeIndex, isHighlightRange, nextHighlightRange, textRange;
      charIndex = 0;
      highlightRangeIndex = 0;
      $styledText = $j('<span />');
      while (charIndex < text.length) {
        nextHighlightRange = highlightRanges[highlightRangeIndex];
        if (highlightRangeIndex >= highlightRanges.length) {
          isHighlightRange = false;
          endOfRangeIndex = charIndex + text.length;
        } else if (nextHighlightRange.pos > charIndex) {
          isHighlightRange = false;
          endOfRangeIndex = nextHighlightRange.pos;
        } else {
          isHighlightRange = true;
          endOfRangeIndex = nextHighlightRange.pos + nextHighlightRange.len;
        }
        textRange = text.substring(charIndex, endOfRangeIndex);
        $safeRange = $j('<span/>').text(textRange);
        $safeRange.addClass('');
        if (isHighlightRange) {
          $safeRange.addClass('highlighted');
        }
        $styledText.append($safeRange);
        charIndex = endOfRangeIndex;
        if (isHighlightRange) {
          highlightRangeIndex++;
        }
      }
      return $styledText;
    }
  };
});

//# sourceMappingURL=search_helpers.map
